{% extends "base.html" %}
{% block content %}
<h2 style="margin-bottom:1rem;">Profiles</h2>

<div style="margin-bottom:1rem;">
  <a class="button is-link" href="/profiles/new">+ New Profile</a>
</div>

{% if profiles %}
<table class="table is-striped is-fullwidth">
  <thead>
    <tr>
      <th style="width:25%;">Name</th>
      <th style="width:45%;">Description</th>
      <th style="width:20%;">Updated</th>
      <th style="width:10%; text-align:center;">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for p in profiles %}
    <tr>
      <td>
        <a href="/profiles/{{ p.id }}">{{ p.name }}</a>
      </td>
      <td>{{ p.description or '' }}</td>
      <td>{{ p.updated_at.strftime("%Y-%m-%d %H:%M") if p.updated_at else '' }}</td>
      <td style="text-align:center;">
        <a href="/profiles/{{ p.id }}/edit" class="button is-small is-light">Edit</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>No profiles created yet.</p>
{% endif %}
{% endblock %}